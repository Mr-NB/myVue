(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a4331044"],{"1d08":function(e,r,o){},4810:function(e,r,o){"use strict";var t=o("1d08"),s=o.n(t);s.a},"57de":function(e,r,o){"use strict";o.r(r);var t=function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{attrs:{id:"loginPage"}},[o("video",{staticStyle:{position:"absolute"},attrs:{src:e.bgVedio,width:"100%",autoplay:"",loop:"",muted:""},domProps:{muted:!0}}),o("div",{staticClass:"loginBox",staticStyle:{position:"absolute",top:"40%",left:"40%"}},[o("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"账户",prop:"userName"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm.userName,callback:function(r){e.$set(e.ruleForm,"userName",r)},expression:"ruleForm.userName"}})],1),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.login("ruleForm")}}},[e._v("提交")])],1)],1)],1)])},s=[],a={name:"Login",components:{},data:function(){var e=function(e,r,o){""===r?o(new Error("请输入密码")):r.length<6?o(new Error("密码长度不能低于6位")):o()};return{bgVedio:BaseConfig.loginPageBgPath,menuList:[],ruleForm:{userName:"",password:""},rules:{userName:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,trigger:"blur",validator:e}]}}},methods:{login:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return!1;r.$http({url:"/user/login",method:"post",params:{userName:r.ruleForm.userName,password:r.ruleForm.password},errorMessage:"密码错误",showMessage:!1}).then((function(e){if(!e.code){var o=r.ruleForm.userName,t=e.token,s=e.role;window.localStorage.setItem("user",o),window.localStorage.setItem("token",t),window.localStorage.setItem("role",s),r.$store.commit("user/USER_INFO",{token:t,user:o,role:s}),r.$http({url:"/config/get",showMessage:!1}).then((function(e){window.localStorage.setItem("config",JSON.stringify(e.myVueSite)),1==s?r.$router.push("/admin"):r.$router.push("/common/about")}))}}))}))}},mounted:function(){}},l=a,u=(o("4810"),o("2877")),n=Object(u["a"])(l,t,s,!1,null,null,null);r["default"]=n.exports}}]);
//# sourceMappingURL=chunk-a4331044.47662d23.js.map