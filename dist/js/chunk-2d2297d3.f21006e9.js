(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2297d3"],{de51:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"adminUserInfo"}},[r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogFormVisible=!0}}})],1),r("el-dialog",{attrs:{title:"添加用户",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{attrs:{model:e.form,rules:e.rules}},[r("el-form-item",{attrs:{label:"用户名","label-width":e.formLabelWidth,prop:"userName"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),r("el-form-item",{attrs:{label:"密码","label-width":e.formLabelWidth,prop:"password"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("el-form-item",{attrs:{label:"角色","label-width":e.formLabelWidth,prop:"role"}},[r("el-select",{attrs:{placeholder:"请选择角色"},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},[r("el-option",{attrs:{label:"管理员",value:"1"}}),r("el-option",{attrs:{label:"用户",value:"2"}})],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addUser(e.form)}}},[e._v("确 定")])],1)],1),r("el-table",{attrs:{data:e.userList.filter((function(t){return!e.search||t.userName.toLowerCase().includes(e.search.toLowerCase())})),border:""}},[e._l(e.columns,(function(e,t){return r("el-table-column",{attrs:{label:e.label,prop:e.prop}})})),r("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[r("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",disabled:""}},[e._v("Edit")]),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.delUser(t.$index,t.row)}}},[e._v("Delete")])]}}])})],2)],1)},s=[],l={data:function(){return{columns:[],userList:[],search:"",dialogTableVisible:!1,dialogFormVisible:!1,form:{userName:"",password:"",role:""},formLabelWidth:"120px",rules:{userName:[{trigger:"blur",required:!0,message:"请输入用户名"}],password:[{trigger:"blur",required:!0,message:"请输入密码"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],role:[{trigger:"blur",required:!0,message:"请分配角色"}]}}},methods:{addUser:function(){var e=this;this.$http({url:"/admin/user",method:"post",params:{userName:this.form.userName,password:this.form.password,role:this.form.role},showMessage:!0}).then((function(t){t.code||(e.getUserList(),e.dialogFormVisible=!1)}))},handleEdit:function(e,t){console.log(e,t)},delUser:function(e,t){var r=this;this.$http({url:"/admin/user",method:"delete",params:{userName:t.userName}}).then((function(e){r.getUserList()}))},getUserList:function(){var e=this,t=window.localStorage.getItem("config");this.columns=JSON.parse(t).adminTap.userInfoTable,console.log(this.columns),this.$http({url:"/admin/user",showMessage:!1}).then((function(t){e.userList=t,console.log(t)}))}},mounted:function(){this.getUserList()}},a=l,i=r("2877"),n=Object(i["a"])(a,o,s,!1,null,null,null);t["default"]=n.exports}}]);
//# sourceMappingURL=chunk-2d2297d3.f21006e9.js.map