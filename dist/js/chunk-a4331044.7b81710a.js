(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a4331044"],{"1d08":function(e,r,t){},4810:function(e,r,t){"use strict";var o=t("1d08"),s=t.n(o);s.a},"57de":function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{attrs:{id:"loginPage"}},[t("video",{staticStyle:{position:"absolute"},attrs:{src:e.bgVedio,width:"100%",autoplay:"",loop:"",muted:""},domProps:{muted:!0}}),t("div",{staticClass:"loginBox",staticStyle:{position:"absolute",top:"40%",left:"40%"}},[t("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"账户",prop:"userName"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm.userName,callback:function(r){e.$set(e.ruleForm,"userName",r)},expression:"ruleForm.userName"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.login("ruleForm")}}},[e._v("提交")])],1)],1)],1)])},s=[],a={name:"Login",components:{},data:function(){var e=function(e,r,t){""===r?t(new Error("请输入密码")):r.length<6?t(new Error("密码长度不能低于6位")):t()};return{bgVedio:"http://123.57.35.11/static/images/Common/bg.mp4",menuList:[],ruleForm:{userName:"",password:""},rules:{userName:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,trigger:"blur",validator:e}]}}},methods:{login:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return!1;r.$http({url:"/user/login",method:"post",params:{userName:r.ruleForm.userName,password:r.ruleForm.password},errorMessage:"密码错误",showMessage:!1}).then((function(e){if(!e.code){var t=r.ruleForm.userName,o=e.token,s=e.role;window.localStorage.setItem("user",t),window.localStorage.setItem("token",o),window.localStorage.setItem("role",s),r.$store.commit("user/USER_INFO",{token:o,user:t,role:s}),r.$http({url:"/config/get",showMessage:!1}).then((function(e){window.localStorage.setItem("config",JSON.stringify(e.myVueSite)),1==s?r.$router.push("/admin"):r.$router.push("/common/about")}))}}))}))}},mounted:function(){}},u=a,l=(t("4810"),t("2877")),n=Object(l["a"])(u,o,s,!1,null,null,null);r["default"]=n.exports}}]);
//# sourceMappingURL=chunk-a4331044.7b81710a.js.map